% rebase("site/base.html", title="Merchant's Almanac")

% include("site/header.html")

<div class="title">
    {{ commodity.parent.name}}: {{ commodity.name }}
</div>

<div class="sub-title">
    Buy Orders
</div>
<div class="selector">
        <table>
            <tr>
                <th>Shop</th>
                <th>Buy price</th>
                <th>Will buy</th>
            </tr>
        % for order in sorted(commodity.parent.buy_orders(commodity.id_), key=lambda o: o["price"], reverse=True):
            <tr>
                <td class="large">{{ order["shop"] }}</td>
                <td class="small">{{ order["price"] }}</td>
                <td class="small">{{ order["amount"] }}</td>
            </tr>
        % end
        </table>
</div>


<div class="sub-title">
    Sell Orders
</div>

<div class="selector">
        <table>
            <tr>
                <th>Shop</th>
                <th>Sell price</th>
                <th>Will sell</th>
            </tr>
        % for order in sorted(commodity.parent.sell_orders(commodity.id_), key=lambda o: o["price"]):
            <tr>
                <td class="large">{{ order["shop"] }}</td>
                <td class="small">{{ order["price"] }}</td>
                <td class="small">{{ order["amount"] }}</td>
            </tr>
        % end
        </table>
</div>

% include("site/footer.html")