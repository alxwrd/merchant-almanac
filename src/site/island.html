% rebase("site/base.html", title="Merchant's Almanac")

% include("site/header.html")

<div class="title">
    {{ island.name }}
</div>


<div class="sub-title">
    Routes
</div>
<div class="selector">
    % routes = island.routes
    % for route in routes:
        <div class="sub-title">{{ "Dock side" if routes[route][0].end_island.name == island.name else routes[route][0].end_island.name }}</div>
        % for trade in sorted(routes[route], key=lambda r: r.difference, reverse=True):
            {{ trade.start_island.name }}, {{ trade.end_island.name }}, {{ trade.buy_order.commodity_name }}, {{ trade.difference }}<br>
        % end
    % end
</div>


<div class="sub-title">
    Commodities
</div>
<div class="selector">
    % for commodity in sorted(island.commodities.keys()):
    <div class="logo commodity small">
        <div class="logo-text shadow">
            {{ commodity }}
            <a href="/almanac/{{island.parent.name}}/island/{{island.name}}/commodity/{{commodity}}"><span class="link-fill"></span></a>
        </div>
    </div>
    % end
</div>

% include("site/footer.html")